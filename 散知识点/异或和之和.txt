由于异或的运算法则是如果同位数字不同，那么运算结果的这一位为 1。我们知道，只有二进制位为 1 对最终的结果（加和）有贡献，所以我们可以统计二进制结果为 1的情况。
对于每一个  ，我们将其按位拆分，并将结果存入计数数组 ,w i,j  中。其中 i 表示第 i 个二进制位，j 表示这一位上为 j（只能为 0 或 1）,w i,j表示在所有数中，第 i 个二进制位上为 j 的有 ,w i,j个

for(int i=1;i<=n;i++)scanf("%lld",&a[i]);
    for(int i=1;i<=n;i++)q[i]=q[i-1]^a[i];
    for(int i=0;i<=n;i++)
        for(int j=20;j>=0;j--)
	        w[j][(q[i]>>j)&1]++;
	for(int i=0;i<=20;i++)
	    ans+=w[i][0]*w[i][1]*(1<<i);
	printf("%lld",ans);